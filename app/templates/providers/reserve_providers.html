{% extends "layout.html" %}

{% block body %}

{% include 'navbar.html' %} 

<h1 class="mt-3">Elegir proveedores</h1>
<div class="mt-3">
    <div>
        <form action="/search_proveedores" enctype="multipart/form-data"  method="post">

            <div class="form-group">
                <label for="description">Filtro precio: </label>
                <input class="form-control" type="number" id="filtro_precio" name="filtro_precio">
            </div>

            <div class="form-group">
                <label for="description">Dias extra: </label>
                <input class="form-control" type="number" id="dias_extra" name="dias_extra">
            </div>
            
            

            <button type="submit" class="btn btn-primary mt-3"> Buscar </button>
        </form>
    </div>
</div>

<h2 class="mt-3">Materiales con proveedor</h2>
<table class="table">
    <thead>
        <tr>
            <td>Supplier</td>
            <td>Date deliver</td>
            <td>Material</td>
            <td>Price per kg</td>
        </tr>
    </thead>
    <tbody>
        {%for provider in materiales_con_prov %}
            {%for material in provider['materials'] %}
            <tr>
                <td>{{provider['name']}}</td>
                <td>{{material['date_deliver']}}</td>
                <td>{{material['name']}}</td>
                <td>{{material['price_per_kg']}}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    </tbody>
</table>

<h2 class="mt-3">Materiales sin proveedor</h2>
<table class="table">
    <thead>
        <tr>
            <td>Name</td>
            <td>Amount</td>
            <td>Date_required</td>
        </tr>
    </thead>
    <tbody>
        {%for provider in materiales_sin_prov %}
        <tr>
            <td>{{provider['name']}}</td>
            <td>{{provider['amount']}}</td>
            <td>{{provider['date_required']}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}